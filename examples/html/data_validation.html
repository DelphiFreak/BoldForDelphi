<html>

<head>
  <title>Data Validation</title>
  <link href="style.css" type="text/css" rel="stylesheet">
  <base target="_self">
</head>

<body>

<!-- Right table starts -->
<table class="right" cellspacing="0">
  <tr>
    <td class="left"><img src="images/left_round.gif" width="10" height="15"></td>
    <td class="mini">
      <a href="../../index.html" target="_top">Release Doc</a> &gt;
      <a href="index.html" target="_top">Examples</a> &gt;
      <a href="menu/menu_examples_simple.html" target="menu">Simple Examples</a> &gt;
      <a href="menu/menu_examples_simple_objectspace.html" target="menu">ObjectSpace</a> &gt;
      <a href="data_validation.html">Data Validation</a>
    </td>
    <td class="right"><img src="images/right_round.gif" width="10" height="15"></td>
  </tr>
  <tr><td colspan="3"><img src="images/trans_high.gif" width="1" height="10"></td></tr>
  <tr><td colspan="3"><img src="images/top_wide.gif" width="620" height="5"></td></tr>
  <tr><td class="title" colspan="3">Data Validation</td></tr>
  <tr><td colspan="3"><img src="images/bottom_wide.gif" width="620" height="15"></td></tr>
  <tr><td colspan="3"><img src="images/top_wide.gif" width="620" height="5"></td></tr>
  <tr><td class="content" colspan="3">
  
<!-- Content cell starts -->
	<a href="../Delphi/Simple/ObjectSpace/DataValidation/BE_DataValidation.dpr">Launch Delphi-example</a> |
	<a href="../CBuilder/Simple/ObjectSpace/DataValidation/BE_DataValidation.bpr">Launch CBuilder-example</a>
    <p>This example illustrates how constraints in the model may be used to validate the
    consistency of an object. The participating classes and their constraints are:<br>
    &nbsp;
    <table width="600" cellspacing="0">
      <tr>
        <td class="grey" width="80"><b>Class</b></td>
        <td class="grey" width="220"><b>Constraint</b></td>
        <td class="grey" width="10"></td>
        <td class="grey" width="290"><b>Constraint as OCL</b></td></tr>
      <tr class="even">
        <td><b>Customer</b></td>
        <td>If a customer doesn't have a credit card number, the maximum credit limit is 1000</td>
        <td></td>
        <td>(creditcardno = '') implies (creditlimit &lt; 1000)</td></tr>
      <tr class="odd">
        <td>&nbsp;</td>
        <td>A customer must have a name</td>
        <td></td>
        <td>name &lt;&gt; ''</td></tr>
      <tr class="even">
        <td>&nbsp;</td>
        <td>A customer must have a shipping address</td>
        <td></td>
        <td>shippingAddress &lt;&gt; ''</td></tr>
      <tr class="odd">
        <td><b>Order</b></td>
        <td>the sum of an order must not exceed the creditlimit of a customer</td>
        <td></td>
        <td>ordersum &lt; customer.creditlimit</td></tr>
      <tr class="even">
        <td>&nbsp;</td>
        <td>The shipping date must come after the order date</td>
        <td></td>
        <td>shippingdate &lt; orderdate</td></tr>
      <tr class="odd">
        <td><b>OrderItem</b></td>
        <td>The quantity must be more than 0</td>
        <td></td>
        <td>qty &gt; 0</td></tr>
      <tr class="even">
        <td>&nbsp;</td>
        <td>We do not accept ordersitems whose sum is less than 100</td>
        <td></td>
        <td>itemSum &gt; 100</td></tr>
      <tr class="odd">
        <td>&nbsp;</td>
        <td>Each orderitem must be related to a part</td>
        <td></td>
        <td>part-&gt;notEmpty</td></tr>
      <tr class="even">
        <td><b>Part</b></td>
        <td>A part must have a positive price</td>
        <td></td>
        <td>price &gt; 0</td></tr>
      <tr class="odd">
        <td>&nbsp;</td>
        <td>&nbsp;</td>
        <td></td>
        <td>&nbsp;</td></tr>
      <tr class="even">
        <td><b>Order</b></td>
        <td>An order may not have more than 3 orderitems</td>
        <td></td>
        <td>This is constrained using multiplicity 0..3 on the relation, and not explicitly using OCL</td>
      </tr>
    </table>
    <p>The example enforces constraints to be valid when an object is updated by overriding
    the <code>MayUpdate</code> on the root class, and also by catching any <code>bqMayUpdate</code> queries in
    <code>TBusinessClassesRoot.ReceiveQueryfromOwned</code>. If an object breaks a constraint, the update
    will be aborted, and the reason will be shown to the user.
    <p>The little red/green sphere in the left column in the grids is turned on with the
    property <i>BoldShowConstraints</i> on the grid, and indicates that the objct has/has
    not any broken constraints.
    <p>The GUI continuously presents the broken constraints on the objects in the lower grid.
    <p class="note"><b>Note!</b> Please make sure to use the &quot;Create DB &amp; Alias&quot;
    button before attempting to open the system for the first time. Once the database and
    alias is established you only have to use the &quot;Open system&quot; button when running
    the example program.
<!-- Content cell ends -->
  
  </td></tr>
  <tr><td colspan="3"><img src="images/bottom_wide.gif" width="620" height="15"></td></tr>
  <tr>
    <td class="left"><img src="images/left_round.gif" width="10" height="15"></td>
    <td class="mini">All material $(COPYRIGHT_TEXT). Registered Trademarks and other trademarks
      are properties of their respective holders.</td>
    <td class="right"><img src="images/right_round.gif" width="10" height="15"></td>
  </tr>
</table>
<!-- Right table ends -->

</body>
</html>
